Trying to recreate XGIS functionality. Or at the very least some of it.